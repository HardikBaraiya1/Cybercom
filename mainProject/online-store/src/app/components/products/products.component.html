<!-- <p>products works!</p> -->
<hr class="mt-0 pt-1">
<div class="d-flex" style="justify-content: space-between;">
  <select [(ngModel)]="selectedCategoryId" class="form-control m-2" (change)="filerCategWise(selectedCategoryId)"
    style="width: 25%; background: transparent; border: 1px solid black;">
    <option *ngFor="let category of categories" [value]="category.id">{{ category.name }}</option>
    <!-- <option selected value="-1">Selcect your Cateogry</option> -->
  </select>
  <div id="search" class="d-flex">
    <input class="form-control m-2" [(ngModel)]="searchEl" (change)="findProducts()" style="background: transparent; border: 1px solid black;" type="search"
      placeholder="Search" aria-label="Search">
    <button class="btn btn-outline-success m-2" (click)="findProducts()">Search</button>
  </div>
</div>
<hr>
  <div *ngIf="fetched && products.length == 0" class="alert alert-info text-center" role="alert">
    No products found.
  </div>

<div class="container my-2" *ngIf="fetched && products.length !=0">
  <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-4">
    <!-- Item 1 -->
    <div *ngFor="let product of products" class="col">
      <div class="text-bg-dark mx-md-0 pt-3 px-3 pt-md-5 px-md-5 text-center overflow-hidden" id="{{product.id}}">
        <div class="my-3 py-3 h-25">
          <h2 class="display-5">{{product.attributes.product_name}}</h2>
          <p class="lead">{{product.attributes.product_description}}</p>
        </div>
        <div class="bg-body-tertiary shadow-sm mx-auto" style="width: 90%; height: 250px; border-radius: 21px;">
          <img src="http://localhost:1337{{product.attributes.product_image.data?.[0].attributes.url}}"
            alt="Image description" class="img-fluid"
            style="width: 100%; height: 100%; object-fit: fit; border-radius: 21px;">
        </div>
        <div class="align-items-center w-100 mx-auto mt-4 mb-3">
          <div>
            <!-- <p class="lead" style="font-weight: 600;">Brand: {{ product.brand }} Color: {{ product.color }}</p> -->
          </div>
          <div>
            <button class="btn btn-primary btn-add-to-cart" [disabled]="isProductInCart(product.id)"
              (click)="addToCart(product.id)">
              {{ isProductInCart(product.id) ? 'Added to Cart' : 'Add to Cart' }}
            </button>

          </div>
        </div>

        <h3 class="display-7">${{product.attributes.price}}</h3>
      </div>
    </div>
    <!-- Repeat the pattern for additional items -->
  </div>

  <div class="container mt-3">
    <!-- Pagination controls -->
    <nav aria-label="Page navigation">
      <ul class="pagination" style="justify-content: space-around;">
        <li class="page-item" [class.pageBtn]="currentPage !== 1" [class.disabled]="currentPage === 1">
          <button class="page-link" (click)="prevPage()">Previous</button>
        </li>
        <li class="page-item" *ngFor="let page of pageArray">
          <button class="page-link" (click)="setPage(page)" [class.active]="page === currentPage">{{ page }}</button>
        </li>
        <li class="page-item" [class.pageBtn]="currentPage !== pageArray.length" [class.disabled]="currentPage === pageArray.length">
          <button class="page-link" (click)="nextPage()">Next</button>
        </li>
      </ul>
    </nav>
  </div>
</div>